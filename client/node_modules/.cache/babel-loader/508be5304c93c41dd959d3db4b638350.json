{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Hruda Mohod\\\\Desktop\\\\MERN\\\\client\\\\src\\\\components\\\\Mainpage.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Nav } from \"./Nav\";\nimport \"../components/css/Mainpage.css\";\nexport var Mainpage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Mainpage, _Component);\n\n  function Mainpage(props) {\n    var _this;\n\n    _classCallCheck(this, Mainpage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Mainpage).call(this, props));\n    _this.state = {\n      selectedFile: [],\n      filename: ''\n    }; // localStorage.clear();\n\n    if (localStorage.getItem('firstname') == null) {\n      _this.isloggedin = false;\n    } else {\n      _this.isloggedin = true;\n    }\n\n    _this.handleselectedFile = _this.handleselectedFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.captureInput = _this.captureInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Mainpage, [{\n    key: \"handleUpload\",\n    value: function handleUpload(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var fd = new FormData();\n\n      if (this.state.filename === '') {\n        console.log('this was a mandatory input');\n        return;\n      } else {\n        // creating the form data with the name that can be identified at the server\n        fd.append('musicUpload', this.state.selectedFile, this.state.filename);\n        console.log(this.state.selectedFile);\n      } //========================================\n\n\n      axios.post(\"http://localhost:8080/api/uploads\", fd).then(function (result) {\n        console.log(result);\n\n        if (result.data.errors) {\n          return _this2.setState(result.data);\n        }\n      });\n    }\n  }, {\n    key: \"handleselectedFile\",\n    value: function handleselectedFile(e) {\n      this.setState({\n        selectedFile: e.target.files[0]\n      }); // let url = \"http://localhost:8080/api/files\"+filename;\n      // axios\n      //   .get(\"http://localhost:8080/api/files\")\n      //   .then();\n    }\n  }, {\n    key: \"captureInput\",\n    value: function captureInput(e) {\n      this.setState({\n        filename: e.target.value\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      var filename = this.state.filename;\n      var url = \"http://localhost:8080/api/files/id:\" + filename;\n      axios.post(url).then(function (result) {});\n    } //fetch music uploaded by a person and for loop through the filenames\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.isloggedin ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        login: this.isloggedin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"showcase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bg-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"FACE THE MUSIC!!\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"filename\",\n        onChange: this.captureInput,\n        placeholder: \"Search for your music\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleSearch,\n        className: \"searchbtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Upload file\"), React.createElement(\"input\", {\n        onChange: this.handleselectedFile,\n        type: \"file\",\n        name: \"post\",\n        id: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.captureInput,\n        type: \"text\",\n        placeholder: \"name your file without the extension\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Upload\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Please login\"));\n    }\n  }]);\n\n  return Mainpage;\n}(Component);\nexport default Mainpage;","map":{"version":3,"sources":["C:\\Users\\Hruda Mohod\\Desktop\\MERN\\client\\src\\components\\Mainpage.js"],"names":["React","Component","axios","Nav","Mainpage","props","state","selectedFile","filename","localStorage","getItem","isloggedin","handleselectedFile","bind","handleUpload","handleSearch","captureInput","e","preventDefault","fd","FormData","console","log","append","post","then","result","data","errors","setState","target","files","value","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Nav } from \"./Nav\";\r\nimport \"../components/css/Mainpage.css\";\r\nexport class Mainpage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedFile: [],\r\n      filename: ''\r\n    };\r\n    // localStorage.clear();\r\n    if(localStorage.getItem('firstname') == null){\r\n      this.isloggedin = false;\r\n    }else{\r\n      this.isloggedin = true;\r\n    }\r\n    this.handleselectedFile = this.handleselectedFile.bind(this);\r\n    this.handleUpload = this.handleUpload.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.captureInput = this.captureInput.bind(this);\r\n  }\r\n\r\n  handleUpload(e) {\r\n    e.preventDefault();\r\n    const fd = new FormData();\r\n    if(this.state.filename === ''){\r\n      console.log('this was a mandatory input');\r\n      return;\r\n    }else{\r\n     // creating the form data with the name that can be identified at the server\r\n      fd.append('musicUpload',this.state.selectedFile,this.state.filename);\r\n      console.log(this.state.selectedFile); \r\n    }\r\n    //========================================\r\n    axios\r\n      .post(\"http://localhost:8080/api/uploads\", fd)\r\n      .then(result => {\r\n        console.log(result);\r\n        if (result.data.errors) {\r\n          return this.setState(result.data);\r\n        }\r\n      });\r\n  }\r\n\r\n  handleselectedFile(e) {\r\n    this.setState({\r\n      selectedFile: e.target.files[0],\r\n    });\r\n    // let url = \"http://localhost:8080/api/files\"+filename;\r\n    // axios\r\n    //   .get(\"http://localhost:8080/api/files\")\r\n    //   .then();\r\n  }\r\n\r\n  captureInput(e){\r\n    this.setState({\r\n      filename: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSearch(e){\r\n    let filename = this.state.filename;\r\n    let url = \"http://localhost:8080/api/files/id:\"+filename;\r\n    axios\r\n      .post(url)\r\n      .then(result=>{\r\n\r\n      });\r\n  }\r\n\r\n  //fetch music uploaded by a person and for loop through the filenames\r\n  render() {\r\n    return this.isloggedin ? (\r\n      <div>\r\n        <Nav login={this.isloggedin}/>\r\n        <div id=\"showcase\" >\r\n        <div className=\"bg-image\" />\r\n          <h1>FACE THE MUSIC!!</h1>\r\n          <div className=\"form-group\">\r\n          <input type=\"text\" className=\"form-control\" name=\"filename\" onChange = {this.captureInput} placeholder=\"Search for your music\"></input>\r\n          <button onClick={this.handleSearch} className=\"searchbtn\">Search</button>\r\n          </div>\r\n         <label>Upload file</label>\r\n          <input\r\n            onChange = {this.handleselectedFile}\r\n            type=\"file\"\r\n            name=\"post\"\r\n            id=\"post\"\r\n          />\r\n          <br>\r\n          </br>\r\n          <input\r\n            onChange = {this.captureInput}\r\n            type=\"text\"\r\n            placeholder=\"name your file without the extension\"/>\r\n          {/* //take name of file so you can send in form data */}\r\n          \r\n          <button onClick={this.handleUpload}>Upload</button>\r\n          {/* {} */}\r\n          <br/>\r\n      </div>\r\n    </div>\r\n    ) : (\r\n      <div>\r\n      <Nav/>\r\n      <h3>Please login</h3>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Mainpage;"]},"metadata":{},"sourceType":"module"}